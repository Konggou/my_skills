# 项目分析模式参考

本文档提供不同项目类型的分析模式和最佳实践。

## 目录

1. [前端项目分析](#前端项目分析)
2. [后端项目分析](#后端项目分析)
3. [全栈项目分析](#全栈项目分析)
4. [ROS2 项目分析](#ros2-项目分析)
5. [微服务项目分析](#微服务项目分析)

## 前端项目分析

### 典型结构

```
frontend/
├── src/
│   ├── components/     # UI 组件
│   ├── views/          # 页面视图
│   ├── api/            # API 客户端
│   ├── store/          # 状态管理
│   ├── router/         # 路由配置
│   ├── utils/          # 工具函数
│   └── types/          # 类型定义
├── public/             # 静态资源
└── package.json        # 依赖配置
```

### 分析重点

1. **组件层次结构**
   - 识别基础组件和业务组件
   - 识别页面级组件和功能组件
   - 分析组件的复用性

2. **状态管理**
   - 识别全局状态和局部状态
   - 分析状态流转路径
   - 识别状态管理库（Vuex/Pinia、Redux、Zustand 等）

3. **路由结构**
   - 识别路由层级
   - 分析路由守卫和权限控制
   - 识别懒加载策略

4. **API 集成**
   - 识别 API 客户端封装
   - 分析请求拦截和响应处理
   - 识别 WebSocket 连接管理

### 常见框架

- **Vue 3**：Composition API、Pinia、Vue Router
- **React**：Hooks、Redux、React Router
- **Angular**：Modules、Services、RxJS

## 后端项目分析

### 典型结构

```
backend/
├── server/
│   ├── api/            # API 路由
│   ├── basic/          # 业务逻辑
│   ├── models/         # 数据模型
│   ├── utils/          # 工具函数
│   └── app.py          # 应用入口
├── include/            # 共享库
└── requirements.txt    # 依赖配置
```

### 分析重点

1. **API 层**
   - 识别 RESTful API 端点
   - 分析路由组织方式
   - 识别中间件和拦截器

2. **业务逻辑层**
   - 识别服务类和方法
   - 分析业务规则实现
   - 识别事务边界

3. **数据访问层**
   - 识别数据模型
   - 分析数据库操作
   - 识别 ORM 或数据访问模式

4. **通信机制**
   - WebSocket 连接管理
   - 消息队列使用
   - 事件发布订阅

### 常见框架

- **Flask**：Blueprint、Flask-SocketIO
- **Django**：Apps、Models、Views
- **FastAPI**：Routers、Dependencies、WebSocket

## 全栈项目分析

### 典型结构

```
project/
├── frontend/           # 前端代码
├── backend/            # 后端代码
├── shared/             # 共享代码（可选）
└── docs/               # 文档
```

### 分析重点

1. **前后端分离**
   - 识别通信接口（REST API、WebSocket）
   - 分析数据格式约定（JSON Schema）
   - 识别认证授权机制

2. **数据流**
   - 前端到后端的数据流
   - 后端到前端的响应流
   - 实时数据推送（WebSocket）

3. **部署架构**
   - 识别构建配置
   - 分析部署脚本
   - 识别环境配置

## ROS2 项目分析

### 典型结构

```
ros2_ws/
├── src/
│   └── package_name/
│       ├── nodes/      # ROS2 节点
│       ├── launch/      # Launch 文件
│       ├── config/      # 配置文件
│       └── CMakeLists.txt
└── install/             # 安装目录
```

### 分析重点

1. **节点识别**
   - 识别发布者节点（Publisher）
   - 识别订阅者节点（Subscriber）
   - 识别服务节点（Service/Client）
   - 识别动作节点（Action）

2. **话题和服务**
   - 识别话题（Topic）和消息类型
   - 识别服务（Service）和请求/响应类型
   - 识别动作（Action）和目标/反馈类型

3. **节点关系**
   - 分析节点间的通信关系
   - 识别数据流方向
   - 识别节点启动顺序

4. **与外部系统集成**
   - 识别与后端 API 的集成点
   - 分析数据转换逻辑
   - 识别硬件接口

## 微服务项目分析

### 典型结构

```
microservices/
├── service1/           # 服务1
├── service2/           # 服务2
├── gateway/            # API 网关
└── shared/             # 共享库
```

### 分析重点

1. **服务边界**
   - 识别服务职责边界
   - 分析服务间的接口定义
   - 识别共享数据模型

2. **服务通信**
   - REST API 调用
   - 消息队列（RabbitMQ、Kafka）
   - gRPC 调用

3. **服务发现和配置**
   - 识别服务注册机制
   - 分析配置管理方式
   - 识别负载均衡策略

## 通用分析模式

### 1. 自顶向下分析

1. 从项目根目录开始
2. 识别主要目录和文件
3. 深入分析关键模块
4. 梳理模块间关系

### 2. 自底向上分析

1. 从具体文件开始
2. 识别文件的功能
3. 向上归纳到模块
4. 构建整体架构

### 3. 关键路径分析

1. 识别核心业务流程
2. 追踪数据流转路径
3. 分析关键模块
4. 识别性能瓶颈点

### 4. 依赖关系分析

1. 识别直接依赖
2. 识别间接依赖
3. 识别循环依赖
4. 识别核心依赖

## 分析检查清单

- [ ] 项目根目录结构已识别
- [ ] 技术栈已明确
- [ ] 主要模块已列出
- [ ] 模块功能已描述
- [ ] 模块依赖关系已梳理
- [ ] 数据流已分析
- [ ] 控制流已分析
- [ ] 框架图已生成
- [ ] 分析报告已完整
